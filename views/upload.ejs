<section class="plugins-section">
  <div class="container" style="max-width: 800px;">
    <div class="text-center" style="margin-bottom: var(--spacing-2xl);">
      <h1 class="h1">Publish Your Plugin</h1>
      <p class="text-large" style="color: var(--text-secondary); max-width: 600px; margin: 0 auto;">
        Share your Minecraft plugin with thousands of server owners and developers. Provide metadata and link to your external download.
      </p>
    </div>

    <% if (error) { %>
      <div class="alert error" style="margin-bottom: var(--spacing-lg);">
        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: var(--spacing-sm);">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <%= error %>
      </div>
    <% } %>

    <div class="plugin-card" style="max-width: none;">
      <form method="post" action="/publish" class="form" style="gap: var(--spacing-lg);">
        <div class="grid grid-cols-2" style="gap: var(--spacing-lg);">
          <div>
            <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
              Plugin Name *
            </label>
            <input name="name" required placeholder="e.g., EssentialsX, WorldEdit, LuckPerms"
                   class="input" style="width: 100%;">
            <p class="text-xs" style="margin-top: var(--spacing-xs); color: var(--text-muted);">
              Choose a clear, descriptive name for your plugin
            </p>
          </div>
          
          <div>
            <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
              Category
            </label>
            <select name="category" class="input" style="width: 100%;">
              <option value="">Select a category</option>
              <option value="utility">Utility</option>
              <option value="economy">Economy</option>
              <option value="pvp">PvP</option>
              <option value="admin">Admin Tools</option>
              <option value="fun">Fun & Games</option>
              <option value="world">World Management</option>
              <option value="api">API & Libraries</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>
        
        <div>
          <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
            Short Description *
          </label>
          <textarea name="description" rows="3" required 
                    placeholder="Brief description of what your plugin does (max 180 characters)"
                    class="input" style="width: 100%; resize: vertical;"></textarea>
          <p class="text-xs" style="margin-top: var(--spacing-xs); color: var(--text-muted);">
            This will be shown in plugin listings and search results
          </p>
        </div>
        
        <div>
          <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
            External Download Link *
          </label>
          <input name="link" type="url" required 
                 placeholder="https://modrinth.com/plugin/your-plugin or https://github.com/..."
                 class="input" style="width: 100%;">
          <p class="text-xs" style="margin-top: var(--spacing-xs); color: var(--text-muted);">
            Link to Modrinth, SpigotMC, GitHub releases, or other trusted hosting platform
          </p>
        </div>
        
        <div class="grid grid-cols-2" style="gap: var(--spacing-lg);">
          <div>
            <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
              Supported Versions
            </label>
            <input name="versions" placeholder="e.g., 1.19, 1.20, 1.21"
                   class="input" style="width: 100%;">
            <p class="text-xs" style="margin-top: var(--spacing-xs); color: var(--text-muted);">
              Minecraft versions your plugin supports
            </p>
          </div>
          
          <div>
            <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
              Tags
            </label>
            <input name="tags" placeholder="e.g., teleport, economy, chat"
                   class="input" style="width: 100%;">
            <p class="text-xs" style="margin-top: var(--spacing-xs); color: var(--text-muted);">
              Comma-separated tags to help users find your plugin
            </p>
          </div>
        </div>
        
        <div>
          <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
            Detailed Description
          </label>
          <textarea name="fulldesc" rows="8" 
                    placeholder="Provide a detailed description of your plugin's features, commands, permissions, and usage instructions. Markdown is supported."
                    class="input" style="width: 100%; resize: vertical;"></textarea>
          <p class="text-xs" style="margin-top: var(--spacing-xs); color: var(--text-muted);">
            Supports Markdown formatting. This will be shown on your plugin's detail page.
          </p>
        </div>
        
        <div>
          <label class="text-small" style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary); font-weight: 600;">
            Changelog (Optional)
          </label>
          <textarea name="changelog" rows="4" 
                    placeholder="What's new in this version? Bug fixes, new features, etc."
                    class="input" style="width: 100%; resize: vertical;"></textarea>
          <p class="text-xs" style="margin-top: var(--spacing-xs); color: var(--text-muted);">
            Document changes and updates for users
          </p>
        </div>
        
        <div style="background: var(--bg-tertiary); padding: var(--spacing-md); border-radius: var(--radius-md); border: 1px solid var(--border);">
          <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-sm); font-weight: 600;">ðŸ“‹ Submission Guidelines</h4>
          <ul style="color: var(--text-secondary); font-size: 0.875rem; line-height: 1.6;">
            <li>â€¢ Ensure your plugin is original work or properly attributed</li>
            <li>â€¢ Provide a working external download link</li>
            <li>â€¢ Use clear, descriptive titles and descriptions</li>
            <li>â€¢ Your submission will be reviewed before going live</li>
            <li>â€¢ Follow our <a href="/guidelines" style="color: var(--primary);">community guidelines</a></li>
          </ul>
        </div>

        <div class="flex gap-md justify-center">
          <button type="submit" class="btn btn-primary btn-lg">
            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
            </svg>
            Submit for Review
          </button>
          <a href="/" class="btn btn-secondary btn-lg">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</section>
